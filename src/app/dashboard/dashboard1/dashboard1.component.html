<section class="content">
  <div class="content-block" *appHasRoles="['medico']"   >
    <div class="block-header">
      <app-breadcrumb [title]="'Panel de Inicio'" [items]="['Inicio']" [active_item]="'Panel'"></app-breadcrumb>
    </div>
    <div class="row">
      <div class="col-12 col-sm-6 col-md-6">
        <div class="card">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <div>
                <h6>Total Consultas</h6>
                <p class="text-muted">Cantidad de Consultas en el mes</p>
              </div>
              <h5 class="text-info">{{dato?.consultas}}</h5>
            </div>
            <div class="card-content mt-2">
              <!-- <div class="progress skill-progress m-b-5 w-100"> -->
                <!-- <div class="progress-bar l-bg-purple width-per-{{dato?.consultas>=100?100:dato?.consultas}}" role="progressbar" aria-valuenow="45"
                  aria-valuemin="0" aria-valuemax="100"></div> -->
              <!-- </div> -->
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-md-6">
        <div class="card">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <div>
                <h6>Total Pacientes</h6>
                <p class="text-muted">Pacientes nuevos en el mes</p>
              </div>
              <h5 class="text-success">{{dato?.nuevos}}</h5>
            </div>
            <div class="card-content mt-2">
              <!-- <div class="progress skill-progress m-b-5 w-100">
                <div class="progress-bar l-bg-orange width-per-{{dato?.nuevos}}" role="progressbar" aria-valuenow="45"
                  aria-valuemin="0" aria-valuemax="100"></div>
              </div> -->
            </div>
          </div>
        </div>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="body">
            <h5>Proximas Consultas</h5>
            <div class="row mt-5">
                <div class="col-md-12" *ngFor="let item of dato?.proximas" >
                    <div class="row">
                      <div class="col-md-2 d-flex justify-content-end ">
                        <div>
                          <img *ngIf="item.paciente?.img_url!=null" [src]="url+item.paciente?.img_url" style="width: 70px;" alt="">
                          <img *ngIf="item.paciente?.img_url==null" src="assets/images/user/usrbig3.jpg" style="width: 70px;" alt="">
                        </div>
                      </div>
                      <div class="col-md-7 ">
                        <a routerLink="/dashboard/pacientes/informacion/{{item.paciente_id}}" ><h6>{{item?.titulo}}</h6></a>
                        <p>{{item.fecha_inicio|date:'dd/MM/yyyy hh:mm a'}} - {{item.fecha_fin|date:'hh:mm a'}}</p>
                        <p>{{item.estado}}</p>
                      </div>    
                      <div class="col-md-3">
                        <button mat-button [matMenuTriggerFor]="profilemenu">
                          <div class="chip dropdown-toggle" color="primary" ngbDropdownToggle class="">
                              <mat-icon>menu</mat-icon>
                            </div>
                          </button>
                          <mat-menu #profilemenu="matMenu" class="profile-menu">
                            <div class="noti-list">
                              <div class="menu ">
                                <div class="user_dw_menu">
                                  <button *ngIf="item.estado =='EN ESPERA'"  mat-menu-item class="user-item-list" (click)="cambiarEstado(item.id,item.paciente_id)" >Iniciar consulta</button>
                                  <button *ngIf="item.estado =='EN CURSO'"  mat-menu-item class="user-item-list" (click)="terminarCita(item.id)">Terminar Consulta</button>
                                  <button *ngIf="item.estado =='EN ESPERA'" mat-menu-item class="user-item-list" (click)="eventClick(item)">Editar Cita</button>
                                  <button *ngIf="item.estado =='EN ESPERA'" mat-menu-item class="user-item-list" (click)="deleteCita(item.id)">Cancelar Cita</button>
                  
                                </div>
                              </div>
                            </div>
                          </mat-menu>
                      </div>    
                    </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="content-block" *appHasRoles="['administrador']" >
    <div class="block-header">
      <app-breadcrumb [title]="'Panel de Inicio'" [items]="['Inicio']" [active_item]="'Panel'"></app-breadcrumb>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="body   ">
           <div  class="d-flex justify-content-center " >
            <img src="assets/images/nutrigo.svg"  style="width: 450px;" alt="">

          </div>
          <h4 class="text-success text-center" >BIENVENIDOS AL SISTEMA</h4>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
